# Спецификация требований к системе (SRS) для Translator with educational functions

# Содержание
1. [Введение](#введение)
    1.1 [Назначение](#назначение)
    1.2 [Бизнес-требования](#бизнес-требования)
        1.2.1 [Фон](#фон)
        1.2.2 [Бизнес-возможности](#бизнес-возможности)
        1.2.3 [Область проекта](#область-проекта)
    1.3 [Аналоги](#аналоги)
2. [Требования пользователя](#требования-пользователя)
    2.1 [Программные интерфейсы](#программные-интерфейсы)
    2.2 [Пользовательский интерфейс](#пользовательский-интерфейс)
    2.3 [Характеристики пользователя](#характеристики-пользователя)
        2.3.1 [Классы пользователей](#классы-пользователей)
        2.3.2 [Целевая аудитория приложения](#целевая-аудитория-приложения)
            2.3.2.1 [Основная аудитория](#основная-аудитория)
            2.3.2.2 [Вторичная аудитория](#вторичная-аудитория)
    2.4 [Предположения и зависимости](#предположения-и-зависимости)
3. [Системные требования](#системные-требования)
    3.1 [Функциональные требования](#функциональные-требования)
        3.1.1 [Основные функции](#основные-функции)
            3.1.1.1 [Регистрация нового пользователя](#регистрация-нового-пользователя)
            3.1.1.2 [Вход и выход пользователя](#вход-и-выход-пользователя)
            3.1.1.3 [Перевод текста](#перевод-текста)
            3.1.1.4 [Управление историей переводов](#управление-историей-переводов)
            3.1.1.5 [Создание и прохождение викторин](#создание-и-прохождение-викторин)
            3.1.1.6 [Получение подсказок по улучшению текста](#получение-подсказок-по-улучшению-текста)
            3.1.1.7 [Поиск в истории переводов](#поиск-в-истории-переводов)
        3.1.2 [Ограничения и исключения](#ограничения-и-исключения)
    3.2 [Нефункциональные требования](#нефункциональные-требования)
        3.2.1 [Качественные атрибуты](#качественные-атрибуты)
            3.2.1.1 [Требования к удобству использования](#требования-к-удобству-использования)
            3.2.1.2 [Требования к безопасности](#требования-к-безопасности)
            3.2.1.3 [Требования к производительности](#требования-к-производительности)
        3.2.2 [Внешние интерфейсы](#внешние-интерфейсы)
        3.2.3 [Ограничения](#ограничения)
        3.2.4 [Архитектурные требования](#архитектурные-требования)

# 1 Введение

## 1.1 Назначение
Этот документ описывает функциональные и нефункциональные требования к веб-приложению "Translator with educational functions" - приложению для перевода текста и изучения языка с образовательными функциями. Документ предназначен для команды разработчиков, которые будут реализовывать и тестировать приложение, а также для преподавателя, оценивающего проект.

## 1.2 Бизнес-требования

### 1.2.1 Фон
Изучение иностранных языков становится все более важным в глобализированном мире. У пользователей часто возникает необходимость не просто получить перевод текста, но и понять его структуру, грамматику и использовать для изучения языка. Существующие решения либо предоставляют только перевод, либо слишком сложны в использовании. Более того, обучение на основе собственных переводов часто требует использования нескольких отдельных инструментов, что снижает эффективность процесса.

### 1.2.2 Бизнес-возможности
"Translator with educational functions" предоставляет пользователям простую и удобную платформу для перевода текста, создания обучающих материалов и изучения языков в «всё-в-одном» формате. Пользователи могут переводить тексты, проходить викторины на основе своих переводов и получать рекомендации по улучшению языка. Это решает проблему фрагментации инструментов для изучения языка и делает процесс более интегрированным.

### 1.2.3 Область проекта
Приложение "Translator with educational functions" - это веб-сервис, который позволяет зарегистрированным пользователям переводить тексты, создавать викторины на основе переводов и получать образовательную обратную связь. Функциональность для неаутентифицированных пользователей не предусмотрена. Проект является образовательным и не предполагает монетизацию, коммерческое использование или интеграцию с правами на языковой контент.

## 1.3 Аналоги
* **Google Translate / DeepL / Яндекс.Переводчик:** Крупные коммерческие сервисы перевода. Основные различия - предоставление доступа к обширным каталогам переводов через подписку или рекламу. Translator focuses на использовании пользовательских текстов для учебных целей, а не на простом переводе.
* **Duolingo / Babbel:** Платформы для изучения языков с предопределенным контентом. Их недостаток в том, что они ограничены предустановленными уроками. Translator позволяет пользователю создавать образовательный контент на основе его собственных текстов.
* **Grammarly:** Инструмент для улучшения письма на английском. Translator предоставляет более широкий спектр функций, включая перевод и создание обучающих материалов.

# 2 Требования пользователя

## 2.1 Программные интерфейсы
* **Бэкенд сервисы:** Микросервисы на Java (Spring Boot).
* **Фронтенд:** HTML, CSS, JavaScript с использованием современных подходов.
* **API коммуникация:** RESTful API.
* **Хранение данных:** PostgreSQL для постоянного хранения метаданных (пользователи, переводы, викторины).
* **Аутентификация:** JWT (JSON Web Tokens) для защиты API.

## 2.2 Пользовательский интерфейс
Графические макеты пользовательского интерфейса представлены на изображении mok first page.png и других макетах в репозитории. Они иллюстрируют ключевые экраны приложения.

**Страница входа в приложение.**
![Страница входа](./картинки/mok first page.png)

**Окно перевода текста.**
![Окно перевода](./картинки/Quiz.png)

## 2.3 Характеристики пользователя

### 2.3.1 Классы пользователей
| Класс пользователя | Описание |
| :--- | :--- |
| Неаутентифицированный пользователь (Гость) | Пользователь, который не вошёл в систему. Может видеть только страницы входа и регистрации. |
| Аутентифицированный пользователь | Пользователь, успешно вошедший в систему. Имеет полный доступ к функциональности перевода, истории и викторин. |

### 2.3.2 Целевая аудитория приложения

#### 2.3.2.1 Основная аудитория
Люди, изучающие иностранные языки и желающие практиковаться с собственными текстами, создавая обучающие материалы на основе своих переводов.

#### 2.3.2.2 Вторичная аудитория
Люди, которым необходимы точные переводы с возможностью изучения грамматики и структуры текста; разработчики, интересующиеся современными стеками с использованием Spring Boot, PostgreSQL и AI-сервисов.

## 2.4 Предположения и зависимости
1. Приложение предполагает, что пользователь вводит текст, который имеет право использовать.
2. Функциональность перевода зависит от доступности внешних API (Google Gemini, LanguageTool).
3. Стабильное подключение к Интернету требуется для перевода текста и взаимодействия фронтенда с бэкенд-сервисами.
4. Подключение к Интернету требуется для получения переводов и подсказок.
5. База данных PostgreSQL и любые другие зависимые сервисы (например, API сервисы) доступны и достижимы.

# 3 Системные требования

## 3.1 Функциональные требования

### 3.1.1 Основные функции

#### 3.1.1.1 Регистрация нового пользователя
**Описание.** Пользователь должен иметь возможность создать новую учетную запись для доступа к функциям приложения.

| Функция | Требования |
| :--- | :--- |
| Ввод данных | Фронтенд должен предоставлять форму для ввода имени пользователя, адреса электронной почты, пароля и подтверждения пароля. |
| Вызов API | Отправка формы вызывает POST-запрос к API сервиса пользователей (например, `/api/users/register`). |
| Валидация данных | Сервис пользователей должен проверить уникальность имени пользователя и электронной почты в таблице `users` PostgreSQL, проверить соответствие паролей. |
| Обработка ошибок | Сервис возвращает соответствующие HTTP коды ошибок и сообщения, которые отображаются фронтендом. |
| Создание аккаунта | При успешной валидации сервис создает запись пользователя в PostgreSQL, хеширует пароль и возвращает ответ об успехе. Фронтенд перенаправляет на страницу входа. |

#### 3.1.1.2 Вход и выход пользователя
**Описание.** Зарегистрированный пользователь должен иметь возможность войти и выйти из системы.

| Функция | Требования |
| :--- | :--- |
| Аутентификация | Фронтенд отправляет учетные данные входа в сервис аутентификации (например, `/api/auth/login`). Сервис проверяет их в PostgreSQL. |
| Генерация JWT и сессия | При успехе сервис генерирует JWT, содержащий ID пользователя и роли. Этот токен безопасно сохраняется фронтендом и включается в последующие API-запросы. |
| Выход | Фронтенд очищает токен аутентификации. |

#### 3.1.1.3 Перевод текста
**Описание.** Аутентифицированный пользователь должен иметь возможность перевести текст с одного языка на другой.

| Функция | Требования |
| :--- | :--- |
| Ввод текста | Фронтенд предоставляет интерфейс для ввода текста, выбора языка оригинала и перевода. |
| Вызов API | Текст отправляется через POST-запрос службе перевода (например, `/api/translations`, включая JWT в заголовке Authorization). |
| Обработка перевода | Служба использует внешние API (Google Gemini) для выполнения перевода. |
| Сохранение в базу | Оригинальный текст, перевод и метаданные (языки, ID пользователя) сохраняются в таблице `translations` PostgreSQL. |

#### 3.1.1.4 Управление историей переводов
**Описание.** Пользователь должен иметь возможность просматривать и удалять переводы из своей истории.

| Функция | Требования |
| :--- | :--- |
| Просмотр истории | Фронтенд получает переводы пользователя, вызывая API службы переводов (например, `GET /api/translations`). Сервис запрашивает таблицу `translations` в PostgreSQL. |
| Удаление перевода | Действие удаления вызывает API службы переводов (например, `DELETE /api/translations/:id`). Сервис удаляет запись из PostgreSQL. |

#### 3.1.1.5 Создание и прохождение викторин
**Описание.** Пользователь должен иметь возможность создавать викторины на основе переводов и проходить их.

| Функция | Требования |
| :--- | :--- |
| Создание викторины | Фронтенд вызывает службу викторин (например, `POST /api/quizzes` с текстами оригинала и перевода). Сервис создает запись в таблице `quizzes` PostgreSQL и генерирует вопросы. |
| Прохождение викторины | Приложение предоставляет интерфейс для прохождения викторины с отслеживанием ответов и результатов. |
| Просмотр викторин | Служба викторин обрабатывает запросы на получение викторин и связанных с ними вопросов через PostgreSQL. |

#### 3.1.1.6 Получение подсказок по улучшению текста
**Описание.** Пользователь должен иметь возможность получить рекомендации по улучшению текста.

| Функция | Требования |
| :--- | :--- |
| Запрос подсказок | Фронтенд отправляет текст в службу подсказок (например, `POST /api/hints`). |
| Анализ текста | Служба использует LanguageTool API и другие инструменты для анализа грамматики и стиля. |
| Возврат рекомендаций | Результаты анализа возвращаются пользователю в понятном формате. |

#### 3.1.1.7 Поиск в истории переводов
**Описание.** Пользователь должен иметь возможность искать переводы по тексту или языкам.

| Функция | Требования |
| :--- | :--- |
| Поисковый запрос | Фронтенд отправляет поисковый запрос в специализированную точку API (например, `GET /api/translations/search?q=query`). |
| Поиск на бэкенде | Служба поиска выполняет запрос к таблицам `translations` в PostgreSQL с использованием `ILIKE` или полнотекстового поиска. |
| Отображение результатов | Отфильтрованные результаты возвращаются фронтенду для отображения. |

### 3.1.2 Ограничения и исключения
1. Приложение не обрабатывает автоматическую загрузку или извлечение текстов из внешних источников. Все переводы создаются пользователем.
2. Приложение не поддерживает социальные функции (совместное использование, совместные переводы, подписки) в MVP.
3. Нет функции редактирования переводов непосредственно в приложении.
4. Нет автономного режима загрузки переводов на устройство.
5. Расширенные поисковые функции, такие как нечеткое сопоставление или анализ содержания, вне рамок MVP.

## 3.2 Нефункциональные требования

### 3.2.1 Качественные атрибуты

#### 3.2.1.1 Требования к удобству использования
1. Интерфейс должен быть интуитивно понятным, отзывчивым и знакомым пользователям современных веб-приложений.
2. Процесс перевода должен быть простым и включать минимальное количество шагов.
3. Навигация между разделами (Переводы, Викторины) должна быть ясной и легко доступной.

#### 3.2.1.2 Требования к безопасности
1. Пароли пользователей должны быть захешированы в PostgreSQL с использованием bcrypt.
2. Доступ к API должен быть ограничен на основе аутентификации JWT. Пользователь не может получить или изменить данные другого пользователя. Службы на Spring Boot должны проверять JWT и права пользователя для каждого соответствующего запроса.
3. Доступ к конечным точкам получения подсказок должен быть защищен проверкой JWT.
4. API-маршруты, обрабатывающие конфиденциальные операции, должны проверять сессии/токены перед вызовом служб.
5. Переменные среды должны использоваться для секретов (ключи JWT, пароли БД).

#### 3.2.1.3 Требования к производительности
1. Фронтенд должен быть оптимизирован для быстрой загрузки страниц.
2. Микросервисы на Spring Boot должны быть эффективными и иметь низкую задержку ответа (< 500мс для большинства API-вызовов).
3. Время получения перевода должно быть минимальным, с учетом времени обработки внешнего API.
4. Запросы к базе данных должны быть оптимизированы для избежания проблем N+1, особенно при загрузке переводов с метаданными.

### 3.2.2 Внешние интерфейсы
1. Приложение должно быть доступно из современных веб-браузеров (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+).
2. Пользовательский интерфейс должен быть адаптивным и адаптироваться к различным размерам экрана (настольный, планшет, мобильный).

### 3.2.3 Ограничения
1. Бэкенд должен быть реализован в виде микросервисов на Java Spring Boot.
2. Основное хранилище данных для метаданных должно быть PostgreSQL.
3. Фронтенд должен быть реализован с использованием HTML, CSS и JavaScript.
4. MVP должен быть разработан в рамках сроков и объема проекта университетского курса.

### 3.2.4 Архитектурные требования
1. **Микросервисы:** Система должна состоять из слабо связанных сервисов Spring Boot (например, сервис пользователей, сервис переводов, сервис викторин).
2. **База данных:** PostgreSQL должен использоваться как основная реляционная база данных для всех сервисов. Каждый сервис может владеть связанными таблицами.
3. **API:** Взаимодействие между компонентами должно осуществляться через четко определенные REST API.
4. **Фронтенд:** Фронтенд должен быть веб-приложением, использующим HTML, CSS, JavaScript для взаимодействия с API микросервисов.
5. **Межсервисное взаимодействие:** Коммуникация между микросервисами Spring Boot должна использовать четко определенные протоколы, потенциально REST HTTP API.
6. **Аутентификация:** JWT должен быть механизмом аутентификации и авторизации в сервисах. Токен должен генерироваться службой аутентификации и проверяться другими сервисами.